<section class="plainText bg-white">
    <div class="lg:relative py-16 lg:py-24">

        {% set blocks = customQuery %}
        {% if blocks | length %}
            {% for block in blocks %}
                {% if block.type == 'mainCallout' %}
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 {% if not loop.first %}pt-12{% endif %}">
                        <div class="w-full lg:w-5/6">
                            {% if block.mainCalloutHeading | length %}
                                <h2 class="font-bold text-3xl md:text-5xl">{{ block.mainCalloutHeading }}</h2>
                            {% endif %}
                            {% if block.mainCalloutText %}
                                <h5>{{ block.mainCalloutText | nl2br }}</h5>
                            {% endif %}
                            {% if block.mainCallout %}
                                <h5>{{ block.mainCallout | nl2br }}</h5>
                            {% endif %}
                        </div>
                    </div>
                {% endif %}

                {% if block.type == 'headingAndText' %}
                    <div class="{% if block.backgroundColour | length %}{{ block.backgroundColour }} py-12 mt-12{% else %}pt-12{% endif %}">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6">
                            <div class="">
                                <div class="w-full lg:w-5/6">
                                    {% if block.heading | length %}
                                        <h5 class="uppercase text-navy mb-8 font-bold">{{ block.heading }}</h5>
                                    {% endif %}
                                    {% if block.text | length %}
                                        {{ block.text | markdown }}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}

                {% if block.type == 'image' %}
                    <div class="max-w-7xl mx-auto px-4 sm:px-6">
                        {% if block.image.one() | length %}
                            {% set optimizedImages = block.image.one().optimizedimages %}
                            <img class="w-full mt-12 lg:mt-16"
                                 src="{{ optimizedImages.src() }}"
                                 srcset="{{ optimizedImages.srcset() }}"
                                 sizes="100vw" />
                        {% endif %}
                    </div>
                {% endif %}


                {% if block.type == 'gridLayout' %}

                    <div class="{% if not loop.first %}mt-16{% endif %} relative">
                        <div class="absolute top-0 bg-input_bg" style="height: 2px;left:0;width: 100%;z-index: 1;"></div>
                        {% for batches in block.blocks|batch(3, null) %}
                            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                                <div class="relative">
                                    <div class="w-full flex flex-row">
                                        {% for block in batches %}
                                            <div class="w-full relative lg:w-1/3 px-12 py-32 bg-gradient-to-r from-white to-off_white flex flex-col group relative">
                                                <div class="relative z-50 flex flex-col h-full opacity-100">
                                                    <h3 class="text-navy text-3xl font-bold mb-8">{{ block.heading }}</h3>
                                                    <p class="text-navy opacity-75 text-lg mb-8">
                                                        {{ block.text }}
                                                    </p>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <div class="absolute bottom-0 bg-input_bg" style="height: 2px;left:-100%;width: 3000px;"></div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>

                {% endif %}

            {% endfor %}
        {% endif %}
    </div>
</section>